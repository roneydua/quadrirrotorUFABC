<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Quadrirrotor: Código-Fonte de lib/EKF/EKF.cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Quadrirrotor
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Gerado por Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Busca','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Busca');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_f81b21074929c51f0f8ec4455f2eeb05.html">EKF</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">EKF.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="EKF_8cpp.html">Vá para a documentação desse arquivo.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160; </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="EKF_8h.html">EKF.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#ifdef __XTENSA__</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GPS_8h.html">GPS.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IMU_8h.html">IMU.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TIME_8h.html">TIME.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;Arduino.h&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">// #include &quot;../AQUA/AQUA.h&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">// #include &quot;../GRUPO_QUAT/GRUPO_QUAT.h&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="namespaceekf.html">   23</a></span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceekf.html">ekf</a> {</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#ifdef __XTENSA__</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<a class="code" href="classIMU.html">IMU</a> imu(Wire, 0x68);</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<a class="code" href="classTIME.html">TIME</a> timeClass;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<a class="code" href="classTIME.html">TIME</a> timeClassLoop;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="namespaceekf.html#a224c884f9fa345bfef8f140150919b3e">   32</a></span>&#160;<a class="code" href="classAQUA.html">AQUA</a> <a class="code" href="namespaceekf.html#a224c884f9fa345bfef8f140150919b3e">aqua</a>;</div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="classekf_1_1EKF.html#aea7bda69ce19f724930eb8c691272508">   33</a></span>&#160;<a class="code" href="classekf_1_1EKF.html#aea7bda69ce19f724930eb8c691272508">EKF::EKF</a>() {}</div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="classekf_1_1EKF.html#a4a6998123529ab0d0844ad21419fc895">   40</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classekf_1_1EKF.html#a4a6998123529ab0d0844ad21419fc895">EKF::begin</a>(<span class="keywordtype">float</span> _dt) {</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#ifdef __XTENSA__</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  printf(<span class="stringliteral">&quot;Nucleo do Filtro: %d\n&quot;</span>, xPortGetCoreID());</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <a class="code" href="classekf_1_1EKF.html#a7638c17e8939f2c45f1bbda2260621cc">status</a> = <a class="code" href="namespaceekf.html#a3d0224f90468a854a2440df8b4f78869a0c401f1c67fce956b571e01d0f1a67d8">BEGIN</a>;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  this-&gt;<a class="code" href="classekf_1_1EKF.html#aee84ca91742c11dd89683930a58d59e3">dt</a> = _dt;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#ifdef __XTENSA__</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <a class="code" href="GPS_8h.html#a35c55bcf9a6f5a52f34cb1ab02c91479">gpsSetup</a>();</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  timeClass.<a class="code" href="classTIME.html#a8cd98765b05a23aa7afe8fa5234b9695">begin</a>();</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="comment">// timeClassLoop.begin();</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="comment">// Instancia o vetor de medidas na biblioteca da IMU.</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment"></span><span class="preprocessor">#ifdef __XTENSA__</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  imu.<a class="code" href="classIMU.html#ae0d964d2f8ec122be068c41b84bc18a8">begin</a>(<a class="code" href="classekf_1_1EKF.html#a30d3adf68cc6ee599fec8fa45a697bbb">accel</a>, <a class="code" href="classekf_1_1EKF.html#af990ea0dbcd3f286f04584ab663d08e6">gyro</a>, <a class="code" href="classekf_1_1EKF.html#a3f84435c646a27ad0f922e5205c13eb3">mag</a>);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="comment">// referencia o bias da classe IMU.</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <a class="code" href="classekf_1_1EKF.html#a50b05a6fb2c055d9c37e44138a05b08e">biasGyro</a> = &amp;imu.<a class="code" href="classIMU.html#a9d22cd7cb7bb93f2e04aa713aed73532">_biasGyro</a>;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <a class="code" href="classekf_1_1EKF.html#a1ac62c76df373623c4cfa0b2b37564db">biasAccel</a> = &amp;imu.<a class="code" href="classIMU.html#a9a145f45e2e08cae0f363747c5603bd1">_biasAccel</a>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="comment">// Atualiza valor do bias do giroscópio com uma média de amostras</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="comment">// valores constantes das matriz F</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <a class="code" href="classekf_1_1EKF.html#aae2ea65c4362a5f798db195112fb094a">mF</a>.block&lt;3, 3&gt;(0, 3) = -0.5f * Eigen::Matrix3f::Identity();</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <a class="code" href="classekf_1_1EKF.html#aae2ea65c4362a5f798db195112fb094a">mF</a>.block&lt;3, 3&gt;(12, 6) = Eigen::Matrix3f::Identity();</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="comment">// Valores constantes da matriz G</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <a class="code" href="classekf_1_1EKF.html#a110201c01d9ce3c63a1de068e87be75d">G</a>.topLeftCorner(3, 3) = -0.5f * Eigen::Matrix3f::Identity();</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <a class="code" href="classekf_1_1EKF.html#a110201c01d9ce3c63a1de068e87be75d">G</a>.block&lt;3, 3&gt;(3, 3) = Eigen::Matrix3f::Identity();</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <a class="code" href="classekf_1_1EKF.html#a110201c01d9ce3c63a1de068e87be75d">G</a>.block(6, 6, 3, 3) = -Eigen::Matrix3f::Identity();</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <a class="code" href="classekf_1_1EKF.html#a110201c01d9ce3c63a1de068e87be75d">G</a>.block&lt;3, 3&gt;(9, 9) = Eigen::Matrix3f::Identity();</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="comment">// matrix de covariâncias do processo continuo</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  Eigen::MatrixXf Q = Eigen::MatrixXf::Identity(12, 12);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  Eigen::Matrix3f _I = Eigen::Matrix3f::Identity();</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  Q.block&lt;3, 3&gt;(0, 0) = _I * _dt * _dt * <a class="code" href="classekf_1_1EKF.html#a5d610d6e3174f24f9be38e7da3d44bc0">sigma_giro_squared</a>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  Q.block&lt;3, 3&gt;(3, 3) = _I * _dt * <a class="code" href="classekf_1_1EKF.html#a883bdaa556cb199f75216286386523c1">sigma_bias_giro_squared</a>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  Q.block&lt;3, 3&gt;(6, 6) = _I * _dt * _dt * <a class="code" href="classekf_1_1EKF.html#a39f7ad374d1ef4a03fdb8cd8bba59846">sigma_accel_squared</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  Q.block&lt;3, 3&gt;(9, 9) = _I * _dt * <a class="code" href="classekf_1_1EKF.html#a4a3b3eb81885f23ec476cfbdeae7666f">sigma_bias_accel_squared</a>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <a class="code" href="classekf_1_1EKF.html#a0e5efc2e95419aaea976414f246a378a">Q_k</a> = <a class="code" href="classekf_1_1EKF.html#a110201c01d9ce3c63a1de068e87be75d">G</a> * Q * <a class="code" href="classekf_1_1EKF.html#a110201c01d9ce3c63a1de068e87be75d">G</a>.transpose();</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <a class="code" href="classekf_1_1EKF.html#ad55e1ba3736ea08721dec76f03dd9715">R</a>.block&lt;4, 4&gt;(0, 0) = Eigen::Matrix4f::Identity() * <a class="code" href="classekf_1_1EKF.html#a2ea4005a93d82e6b448fdb4fd4e36dd1">sigma_aqua_squared</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#ifndef __XTENSA__</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="comment">// Q_k = csvLeia&lt;Eigen::MatrixXf&gt;(&quot;Q&quot;);</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="comment">// R = csvLeia&lt;Eigen::MatrixXf&gt;(&quot;R&quot;);</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="comment">// condições iniciais da posicao</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <a class="code" href="namespaceekf.html#a224c884f9fa345bfef8f140150919b3e">aqua</a>.<a class="code" href="classAQUA.html#a8809dddd7e4f74f3eb7bd1fc4a604ae4">begin</a>(<a class="code" href="classekf_1_1EKF.html#a803ccbdd54bfbd96cccf57afa60578a9">qObs</a>, <a class="code" href="classekf_1_1EKF.html#a30d3adf68cc6ee599fec8fa45a697bbb">accel</a>, <a class="code" href="classekf_1_1EKF.html#a3f84435c646a27ad0f922e5205c13eb3">mag</a>);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#ifdef __XTENSA__</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  updateBaseRef();</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  imu.<a class="code" href="classIMU.html#ac574728dbbc752155239a35c8bbd6e79">readSensor</a>();</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="comment">// valor inicial a partir da medida</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <a class="code" href="namespaceekf.html#a224c884f9fa345bfef8f140150919b3e">aqua</a>.<a class="code" href="classAQUA.html#ae3ddff89a969a0d2a3d3c675ed5b8065">computeAQUAQuaternion</a>();</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <a class="code" href="classekf_1_1EKF.html#aa38bc83dfb656519cfcda0c0a589ef16">q</a> = <a class="code" href="classekf_1_1EKF.html#a803ccbdd54bfbd96cccf57afa60578a9">qObs</a>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="comment">// aqua.qAlignment = qObs;</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <a class="code" href="classekf_1_1EKF.html#a7638c17e8939f2c45f1bbda2260621cc">status</a> = <a class="code" href="namespaceekf.html#a3d0224f90468a854a2440df8b4f78869a638dfa2cadaad15202600951a2e30d4f">READY</a>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="classekf_1_1EKF.html#a651814ff64d234394572e2e7c5703a43">  101</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classekf_1_1EKF.html#a651814ff64d234394572e2e7c5703a43">EKF::loopEKF</a>() {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="comment">// le os sensores</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="comment">// timeClassLoop.computeElapsedTime();</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  updateOfMeasurements();</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  predictionStage();</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  updateStage();</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  updateStates();</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="comment">// dtLoop = timeClassLoop.computeElapsedTime();</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;}</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="keywordtype">void</span> EKF::predictionStage() {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="comment">// Integracao dos estados</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  integrationOfStates();</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  updateF();</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  updateFi();</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="comment">// atualiza a matriz de covariâncias</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <a class="code" href="classekf_1_1EKF.html#aec9a3a7de4a079cd1dd1baae26a7a6fc">P</a> = <a class="code" href="classekf_1_1EKF.html#a78dd6de9d37bc221394db5e9cca2086f">fi</a> * <a class="code" href="classekf_1_1EKF.html#aec9a3a7de4a079cd1dd1baae26a7a6fc">P</a> * <a class="code" href="classekf_1_1EKF.html#a78dd6de9d37bc221394db5e9cca2086f">fi</a>.transpose() + <a class="code" href="classekf_1_1EKF.html#a0e5efc2e95419aaea976414f246a378a">Q_k</a>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="keywordtype">void</span> EKF::updateOfMeasurements() {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="preprocessor">#ifdef __XTENSA__</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="comment">// Faz a leitura dos sensores da MARG atualizando os vetores #accel, #gyro e</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  imu.<a class="code" href="classIMU.html#ac574728dbbc752155239a35c8bbd6e79">readSensor</a>();</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="comment">// tempo decorrido entre medidas a medida anterior e a atual.</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="comment">// dt = timeClass.computeElapsedTime();</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="comment">// Etapa de predição. Verifica se há medidas novas a partir do GPS. A função</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="comment">// processoGPS() retorna a MT_NONE, MT_NAV_POSLLH, MT_NAV_VELNED ou MT_NAV_PVT</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="comment">// dependendo da configuração no cabeçalho GPS.h.</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <a class="code" href="classekf_1_1EKF.html#a8d016a5adf9aa5f33a8c9e1f7dd73592">messageGPS</a> = <a class="code" href="GPS_8h.html#ad604e63cc857e5663dfba96c37c66bc7">processGPS</a>();</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="comment">// p e n corresponde aos numeros de medidas e estados.</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classekf_1_1EKF.html#a8d016a5adf9aa5f33a8c9e1f7dd73592">messageGPS</a> == <a class="code" href="GPS_8h.html#a9730e8d0bbbe3f1515ed1d0b2acda1e1ad2e3f1bdeae0fa235b7dfe6656c46f14">MT_NONE</a>) {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="comment">// não ha observações de posição ou velocidade</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <a class="code" href="classekf_1_1EKF.html#af019016496e0328e5d9ea3cb6462e52c">p</a> = <a class="code" href="classekf_1_1EKF.html#ad3a628fffe1f640b4968b8f6f8ef3b14">pAtitude</a>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classekf_1_1EKF.html#a8d016a5adf9aa5f33a8c9e1f7dd73592">messageGPS</a> == <a class="code" href="GPS_8h.html#a9730e8d0bbbe3f1515ed1d0b2acda1e1ae2379a504fb11d8e00e11bd567a3b819">MT_NAV_POSECEF</a>) {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="comment">// há observação de posicao</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <a class="code" href="classekf_1_1EKF.html#af019016496e0328e5d9ea3cb6462e52c">p</a> = <a class="code" href="classekf_1_1EKF.html#ac02e28e5bd4b3e90d3ccb3dd1127e7b2">pFull</a>;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="comment">// Atualiza o erro de medida na velocidade linear</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    updateNedPos();</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="comment">// Atualiza matriz covariancia da matriz de observação da posição</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <a class="code" href="classekf_1_1EKF.html#ad55e1ba3736ea08721dec76f03dd9715">R</a>.block&lt;3, 3&gt;(4, 4) = <a class="code" href="classekf_1_1EKF.html#a02c9e5ede2b47a773c2f59fb9cf9169c">sigma_pos_squared</a> * Eigen::Matrix3f::Identity();</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="classekf_1_1EKF.html#ae4be03b8440c0f1185141ecc359534df">deltaYObs</a>.tail(3) = <a class="code" href="classekf_1_1EKF.html#a649f7d975dc55413be50d8f1e6bc2559">rNEDgps</a> - <a class="code" href="classekf_1_1EKF.html#a833f15f8790f86633d8b02eb2fe3616e">rNED</a>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classekf_1_1EKF.html#a8d016a5adf9aa5f33a8c9e1f7dd73592">messageGPS</a> == <a class="code" href="GPS_8h.html#a9730e8d0bbbe3f1515ed1d0b2acda1e1a87ee2b7c21367a2caa62b0a01491ea23">MT_NAV_PVT</a>) {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <a class="code" href="classekf_1_1EKF.html#af019016496e0328e5d9ea3cb6462e52c">p</a> = <a class="code" href="classekf_1_1EKF.html#ac02e28e5bd4b3e90d3ccb3dd1127e7b2">pFull</a>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="comment">// há observações de velocidade</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    updateNedVel();</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment">// Atualiza matriz covariancia da matriz de observação da velocidade</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="classekf_1_1EKF.html#ad55e1ba3736ea08721dec76f03dd9715">R</a>.block&lt;3, 3&gt;(4, 4) = <a class="code" href="classekf_1_1EKF.html#af1d82a9698078624dd2e65c808126510">sigma_vel_squared</a> * Eigen::Matrix3f::Identity();</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <a class="code" href="classekf_1_1EKF.html#ae4be03b8440c0f1185141ecc359534df">deltaYObs</a>.tail(3) = <a class="code" href="classekf_1_1EKF.html#ad27f8aac391293234c9e21c02b944cc4">drNEDgps</a> - <a class="code" href="classekf_1_1EKF.html#a93f50b0576c3243487442a9f0934e038">drNED</a>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="comment">// computa o quaternion de observação com o algoritmo #AQUA.</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <a class="code" href="namespaceekf.html#a224c884f9fa345bfef8f140150919b3e">aqua</a>.<a class="code" href="classAQUA.html#ae3ddff89a969a0d2a3d3c675ed5b8065">computeAQUAQuaternion</a>();</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="keywordtype">void</span> EKF::updateF() {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <a class="code" href="classekf_1_1EKF.html#aae2ea65c4362a5f798db195112fb094a">mF</a>.topLeftCorner(3, 3) = -<a class="code" href="namespaceekf.html#af3f0a631343e55ec8b42f3fbea182461">skew</a>(<a class="code" href="classekf_1_1EKF.html#af990ea0dbcd3f286f04584ab663d08e6">gyro</a>);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="comment">// TEST: Matrix mF atualizada em todos os loops</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <a class="code" href="classekf_1_1EKF.html#aae2ea65c4362a5f798db195112fb094a">mF</a>.block&lt;3, 3&gt;(6, 0) = -2.0 * <a class="code" href="classekf_1_1EKF.html#a2f7f579eb38461f7396cca2a9a846bbb">mcd</a> * <a class="code" href="namespaceekf.html#af3f0a631343e55ec8b42f3fbea182461">skew</a>(<a class="code" href="classekf_1_1EKF.html#a30d3adf68cc6ee599fec8fa45a697bbb">accel</a>);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <a class="code" href="classekf_1_1EKF.html#aae2ea65c4362a5f798db195112fb094a">mF</a>.block&lt;3, 3&gt;(6, 9) = -<a class="code" href="classekf_1_1EKF.html#a2f7f579eb38461f7396cca2a9a846bbb">mcd</a>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="keywordtype">void</span> EKF::updateFi() {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="comment">// fi = I+dt * F</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <a class="code" href="classekf_1_1EKF.html#a78dd6de9d37bc221394db5e9cca2086f">fi</a> = Eigen::MatrixXf::Identity(<a class="code" href="classekf_1_1EKF.html#abd8ccdb99191c1f3a7a5c03421f93d87">nFull</a>, <a class="code" href="classekf_1_1EKF.html#abd8ccdb99191c1f3a7a5c03421f93d87">nFull</a>) + (<a class="code" href="classekf_1_1EKF.html#aae2ea65c4362a5f798db195112fb094a">mF</a> * (0.5f * <a class="code" href="classekf_1_1EKF.html#aee84ca91742c11dd89683930a58d59e3">dt</a>) + <a class="code" href="classekf_1_1EKF.html#aae2ea65c4362a5f798db195112fb094a">mF</a>) * <a class="code" href="classekf_1_1EKF.html#aee84ca91742c11dd89683930a58d59e3">dt</a>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="keywordtype">void</span> EKF::integrationOfStates() {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="comment">// Quatérnio com Euler de primeira ordem</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <a class="code" href="namespaceekf.html#a2c0b3448d5cac6f50ad025310b2a9c82">integrationQuaternion</a>(<a class="code" href="classekf_1_1EKF.html#aa38bc83dfb656519cfcda0c0a589ef16">q</a>, <a class="code" href="classekf_1_1EKF.html#af990ea0dbcd3f286f04584ab663d08e6">gyro</a>, <a class="code" href="classekf_1_1EKF.html#aee84ca91742c11dd89683930a58d59e3">dt</a>);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="comment">// atualiza matriz de rotação com o quaternio predito</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <a class="code" href="namespaceekf.html#ac031eda654b199bd45807eed2acdb3ec">computeMcdFromQuaternion</a>(<a class="code" href="classekf_1_1EKF.html#aa38bc83dfb656519cfcda0c0a589ef16">q</a>, <a class="code" href="classekf_1_1EKF.html#a2f7f579eb38461f7396cca2a9a846bbb">mcd</a>);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  Eigen::Vector3f _accel_g = <a class="code" href="classekf_1_1EKF.html#aee84ca91742c11dd89683930a58d59e3">dt</a> * (<a class="code" href="classekf_1_1EKF.html#a2f7f579eb38461f7396cca2a9a846bbb">mcd</a> * <a class="code" href="classekf_1_1EKF.html#a30d3adf68cc6ee599fec8fa45a697bbb">accel</a> - <a class="code" href="classekf_1_1EKF.html#a440b83cfd38de4133d8071a158028c86">navegationGravity</a>);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="comment">// integracao da Posicao NED</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <a class="code" href="classekf_1_1EKF.html#a833f15f8790f86633d8b02eb2fe3616e">rNED</a> += (<a class="code" href="classekf_1_1EKF.html#a93f50b0576c3243487442a9f0934e038">drNED</a> + 0.5f * _accel_g) * <a class="code" href="classekf_1_1EKF.html#aee84ca91742c11dd89683930a58d59e3">dt</a>;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="comment">// integracao da Velocidade</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <a class="code" href="classekf_1_1EKF.html#a93f50b0576c3243487442a9f0934e038">drNED</a> += _accel_g;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="keywordtype">void</span> EKF::updateStage() {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="comment">// Ganho de Kalman</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <a class="code" href="classekf_1_1EKF.html#ae4be03b8440c0f1185141ecc359534df">deltaYObs</a>.head(4) = <a class="code" href="classekf_1_1EKF.html#a803ccbdd54bfbd96cccf57afa60578a9">qObs</a> - <a class="code" href="classekf_1_1EKF.html#aa38bc83dfb656519cfcda0c0a589ef16">q</a>;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  updateHq();</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <a class="code" href="classekf_1_1EKF.html#a87a29899f611c68db72263cc0be496c7">K</a>.leftCols(<a class="code" href="classekf_1_1EKF.html#af019016496e0328e5d9ea3cb6462e52c">p</a>) =</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      <a class="code" href="classekf_1_1EKF.html#aec9a3a7de4a079cd1dd1baae26a7a6fc">P</a> * <a class="code" href="classekf_1_1EKF.html#abd11bc2722fab1c582cc91a39372f2ac">H</a>.topRows(<a class="code" href="classekf_1_1EKF.html#af019016496e0328e5d9ea3cb6462e52c">p</a>).transpose() *</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      (<a class="code" href="classekf_1_1EKF.html#abd11bc2722fab1c582cc91a39372f2ac">H</a>.topRows(<a class="code" href="classekf_1_1EKF.html#af019016496e0328e5d9ea3cb6462e52c">p</a>) * <a class="code" href="classekf_1_1EKF.html#aec9a3a7de4a079cd1dd1baae26a7a6fc">P</a> * <a class="code" href="classekf_1_1EKF.html#abd11bc2722fab1c582cc91a39372f2ac">H</a>.topRows(<a class="code" href="classekf_1_1EKF.html#af019016496e0328e5d9ea3cb6462e52c">p</a>).transpose() + <a class="code" href="classekf_1_1EKF.html#ad55e1ba3736ea08721dec76f03dd9715">R</a>.topLeftCorner(<a class="code" href="classekf_1_1EKF.html#af019016496e0328e5d9ea3cb6462e52c">p</a>, <a class="code" href="classekf_1_1EKF.html#af019016496e0328e5d9ea3cb6462e52c">p</a>))</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;          .inverse();</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="comment">// Atualiza a matriz de covariância.</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <a class="code" href="classekf_1_1EKF.html#aec9a3a7de4a079cd1dd1baae26a7a6fc">P</a> -= <a class="code" href="classekf_1_1EKF.html#a87a29899f611c68db72263cc0be496c7">K</a>.leftCols(<a class="code" href="classekf_1_1EKF.html#af019016496e0328e5d9ea3cb6462e52c">p</a>) * <a class="code" href="classekf_1_1EKF.html#abd11bc2722fab1c582cc91a39372f2ac">H</a>.topRows(<a class="code" href="classekf_1_1EKF.html#af019016496e0328e5d9ea3cb6462e52c">p</a>) * <a class="code" href="classekf_1_1EKF.html#aec9a3a7de4a079cd1dd1baae26a7a6fc">P</a>;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="comment">// Computa o erro de estimação #deltaChi</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <a class="code" href="classekf_1_1EKF.html#ad1c353f958f3c41141c88339793745aa">deltaChi</a>.segment(1, <a class="code" href="classekf_1_1EKF.html#ae4417522e93314005316a236b324f2a5">n</a>) = <a class="code" href="classekf_1_1EKF.html#a87a29899f611c68db72263cc0be496c7">K</a>.leftCols(<a class="code" href="classekf_1_1EKF.html#af019016496e0328e5d9ea3cb6462e52c">p</a>) * <a class="code" href="classekf_1_1EKF.html#ae4be03b8440c0f1185141ecc359534df">deltaYObs</a>.head(<a class="code" href="classekf_1_1EKF.html#af019016496e0328e5d9ea3cb6462e52c">p</a>);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;}</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="keywordtype">void</span> EKF::updateStates() {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="comment">// calcula o escalar do erro de estimação.</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <a class="code" href="classekf_1_1EKF.html#ad1c353f958f3c41141c88339793745aa">deltaChi</a>(0) = sqrtf(1.0f - <a class="code" href="classekf_1_1EKF.html#ad1c353f958f3c41141c88339793745aa">deltaChi</a>.segment&lt;3&gt;(1).squaredNorm());</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="comment">// Atualiza a orientação.</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <a class="code" href="classekf_1_1EKF.html#aa38bc83dfb656519cfcda0c0a589ef16">q</a> = <a class="code" href="namespaceekf.html#a0ae7d9ae45fba00d81bfe71ad73d7fee">multiplyQuaternions</a>(<a class="code" href="classekf_1_1EKF.html#aa38bc83dfb656519cfcda0c0a589ef16">q</a>, <a class="code" href="classekf_1_1EKF.html#ad1c353f958f3c41141c88339793745aa">deltaChi</a>.head(4));</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="comment">// Atualiza o bias do giroscópio.</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  *<a class="code" href="classekf_1_1EKF.html#a50b05a6fb2c055d9c37e44138a05b08e">biasGyro</a> += <a class="code" href="classekf_1_1EKF.html#ad1c353f958f3c41141c88339793745aa">deltaChi</a>.segment&lt;3&gt;(4);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="comment">// Corrige a velocidade de translacao.</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <a class="code" href="classekf_1_1EKF.html#a93f50b0576c3243487442a9f0934e038">drNED</a> += <a class="code" href="classekf_1_1EKF.html#ad1c353f958f3c41141c88339793745aa">deltaChi</a>.segment&lt;3&gt;(7);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="comment">// Corrige o bias do acelerometro.</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  *<a class="code" href="classekf_1_1EKF.html#a1ac62c76df373623c4cfa0b2b37564db">biasAccel</a> += <a class="code" href="classekf_1_1EKF.html#ad1c353f958f3c41141c88339793745aa">deltaChi</a>.segment&lt;3&gt;(10);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="comment">// Corrige a posição Geodésica</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <a class="code" href="classekf_1_1EKF.html#a833f15f8790f86633d8b02eb2fe3616e">rNED</a> += <a class="code" href="classekf_1_1EKF.html#ad1c353f958f3c41141c88339793745aa">deltaChi</a>.segment&lt;3&gt;(13);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;}</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="keywordtype">void</span> EKF::updateHq() { <a class="code" href="classekf_1_1EKF.html#abd11bc2722fab1c582cc91a39372f2ac">H</a>.block&lt;4, 3&gt;(0, 0) = <a class="code" href="namespaceekf.html#a34993a331b6837e5274d556e4f0a1bea">Q_l</a>(<a class="code" href="classekf_1_1EKF.html#aa38bc83dfb656519cfcda0c0a589ef16">q</a>); }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="keywordtype">void</span> EKF::updateHp() {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <a class="code" href="classekf_1_1EKF.html#abd11bc2722fab1c582cc91a39372f2ac">H</a>.block&lt;3, 3&gt;(4, 6) = Eigen::Matrix3f::Zero();</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <a class="code" href="classekf_1_1EKF.html#abd11bc2722fab1c582cc91a39372f2ac">H</a>.block&lt;3, 3&gt;(4, 12) = Eigen::Matrix3f::Identity();</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="keywordtype">void</span> EKF::updateHv() {</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <a class="code" href="classekf_1_1EKF.html#abd11bc2722fab1c582cc91a39372f2ac">H</a>.block&lt;3, 3&gt;(4, 6) = Eigen::Matrix3f::Identity();</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <a class="code" href="classekf_1_1EKF.html#abd11bc2722fab1c582cc91a39372f2ac">H</a>.block&lt;3, 3&gt;(4, 12) = Eigen::Matrix3f::Zero();</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;}</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="preprocessor">#ifdef __XTENSA__</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="keywordtype">void</span> EKF::updateBaseRef() {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <a class="code" href="COMMON_8h.html#a6c89b6571752f2a19aff170b1d3d6e58">blindLED</a>(2);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="comment">// raio Meridional</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#a9a3fd8900988c019d0e2da0491f5600f">RotEcef2ned</a> = Eigen::Matrix3f::Identity();</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#ae9e7517ae5f24d671f404d18c1d0b90b">rECEF</a>[0] = 0;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#ae9e7517ae5f24d671f404d18c1d0b90b">rECEF</a>[1] = 0;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#ae9e7517ae5f24d671f404d18c1d0b90b">rECEF</a>[2] = 0;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="keywordtype">int</span> _mensagem = <a class="code" href="GPS_8h.html#ad604e63cc857e5663dfba96c37c66bc7">processGPS</a>();</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <a class="code" href="GPS_8h.html#a4ff3f4ce55f117a43c4e117d850ca5a8">ubxMessage</a>.<a class="code" href="unionUBXMessage.html#aa57d81c1fb373e82012ca3ddadefd79f">navPosecef</a>.<a class="code" href="structNAV__POSECEF__STRUCT.html#af6632b8d7323f356aac7f34e1656dbba">pAcc</a> = 1000;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="GPS_8h.html#a4ff3f4ce55f117a43c4e117d850ca5a8">ubxMessage</a>.<a class="code" href="unionUBXMessage.html#aa57d81c1fb373e82012ca3ddadefd79f">navPosecef</a>.<a class="code" href="structNAV__POSECEF__STRUCT.html#af6632b8d7323f356aac7f34e1656dbba">pAcc</a> &gt; 300) {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      _mensagem = <a class="code" href="GPS_8h.html#ad604e63cc857e5663dfba96c37c66bc7">processGPS</a>();</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <span class="keywordflow">if</span> (_mensagem == <a class="code" href="GPS_8h.html#a9730e8d0bbbe3f1515ed1d0b2acda1e1ae2379a504fb11d8e00e11bd567a3b819">MT_NAV_POSECEF</a>)</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="preprocessor">#ifdef DEBUG_EKF</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    printf(<span class="stringliteral">&quot;mensagem: %d\t%lu\n&quot;</span>, _mensagem, <a class="code" href="GPS_8h.html#a4ff3f4ce55f117a43c4e117d850ca5a8">ubxMessage</a>.<a class="code" href="unionUBXMessage.html#aa57d81c1fb373e82012ca3ddadefd79f">navPosecef</a>.<a class="code" href="structNAV__POSECEF__STRUCT.html#af6632b8d7323f356aac7f34e1656dbba">pAcc</a>);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    vTaskDelay(100);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="comment">// mensagem em cm/s e em long para subtrair na transformacao ECEF-&gt;NED</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#ae9e7517ae5f24d671f404d18c1d0b90b">rECEF</a>[0] = <a class="code" href="GPS_8h.html#a4ff3f4ce55f117a43c4e117d850ca5a8">ubxMessage</a>.<a class="code" href="unionUBXMessage.html#aa57d81c1fb373e82012ca3ddadefd79f">navPosecef</a>.<a class="code" href="structNAV__POSECEF__STRUCT.html#ad1b8e404ffdeeb1954292e43fe3507b2">ecefX</a>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#ae9e7517ae5f24d671f404d18c1d0b90b">rECEF</a>[1] = <a class="code" href="GPS_8h.html#a4ff3f4ce55f117a43c4e117d850ca5a8">ubxMessage</a>.<a class="code" href="unionUBXMessage.html#aa57d81c1fb373e82012ca3ddadefd79f">navPosecef</a>.<a class="code" href="structNAV__POSECEF__STRUCT.html#a9e56104db13a84e53c2dec44e5ff63b2">ecefY</a>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#ae9e7517ae5f24d671f404d18c1d0b90b">rECEF</a>[2] = <a class="code" href="GPS_8h.html#a4ff3f4ce55f117a43c4e117d850ca5a8">ubxMessage</a>.<a class="code" href="unionUBXMessage.html#aa57d81c1fb373e82012ca3ddadefd79f">navPosecef</a>.<a class="code" href="structNAV__POSECEF__STRUCT.html#acff937b434d1a245763b778f1f15ba66">ecefZ</a>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="GPS_8h.html#a4ff3f4ce55f117a43c4e117d850ca5a8">ubxMessage</a>.<a class="code" href="unionUBXMessage.html#ae5d0a8c24ea04c5b48614e3af5dadea4">navPvt</a>.<a class="code" href="structNAV__PVT__STRUCT.html#af38c07f23fd57d4cb4a88dd99492ce3b">fixType</a> != 3) {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      _mensagem = <a class="code" href="GPS_8h.html#ad604e63cc857e5663dfba96c37c66bc7">processGPS</a>();</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      <span class="keywordflow">if</span> (_mensagem == 2)</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="preprocessor">#ifdef DEBUG_EKF</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  printf(<span class="stringliteral">&quot;%d\n&quot;</span>, <a class="code" href="GPS_8h.html#a4ff3f4ce55f117a43c4e117d850ca5a8">ubxMessage</a>.<a class="code" href="unionUBXMessage.html#ae5d0a8c24ea04c5b48614e3af5dadea4">navPvt</a>.<a class="code" href="structNAV__PVT__STRUCT.html#af38c07f23fd57d4cb4a88dd99492ce3b">fixType</a>);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#a76e12d3fb168dc1ce3f163c985382129">lat</a> = (float)<a class="code" href="GPS_8h.html#a4ff3f4ce55f117a43c4e117d850ca5a8">ubxMessage</a>.<a class="code" href="unionUBXMessage.html#ae5d0a8c24ea04c5b48614e3af5dadea4">navPvt</a>.<a class="code" href="structNAV__PVT__STRUCT.html#ab8a62324ff89a0c707884bfc34aba85d">lat</a> * <a class="code" href="classekf_1_1EKF.html#a1aecb83d5af684f4f8637981089002b9">DEG_TO_RAD_BY_10000000</a>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#ac118821d55d84bee606a64e60098c7d4">lon</a> = (<span class="keywordtype">float</span>)<a class="code" href="GPS_8h.html#a4ff3f4ce55f117a43c4e117d850ca5a8">ubxMessage</a>.<a class="code" href="unionUBXMessage.html#ae5d0a8c24ea04c5b48614e3af5dadea4">navPvt</a>.<a class="code" href="structNAV__PVT__STRUCT.html#ac884e66d0b3ebd6530680ad23e13a81e">lon</a> * <a class="code" href="classekf_1_1EKF.html#a1aecb83d5af684f4f8637981089002b9">DEG_TO_RAD_BY_10000000</a>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#a24573bad2d025ea1b7023eb23b59a46e">hMSL</a> = (float)<a class="code" href="GPS_8h.html#a4ff3f4ce55f117a43c4e117d850ca5a8">ubxMessage</a>.<a class="code" href="unionUBXMessage.html#ae5d0a8c24ea04c5b48614e3af5dadea4">navPvt</a>.<a class="code" href="structNAV__PVT__STRUCT.html#a593d78a85e8db2a7511396023ac72bd6">hMSL</a> * 1e-3;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="comment">// updade Matriz ECEF -&gt; NED</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#a9a3fd8900988c019d0e2da0491f5600f">RotEcef2ned</a>(0, 0) = -sinf(<a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#a76e12d3fb168dc1ce3f163c985382129">lat</a>) * cosf(<a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#ac118821d55d84bee606a64e60098c7d4">lon</a>);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#a9a3fd8900988c019d0e2da0491f5600f">RotEcef2ned</a>(1, 0) = -sinf(<a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#ac118821d55d84bee606a64e60098c7d4">lon</a>);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#a9a3fd8900988c019d0e2da0491f5600f">RotEcef2ned</a>(2, 0) = -cosf(<a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#a76e12d3fb168dc1ce3f163c985382129">lat</a>) * cosf(<a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#ac118821d55d84bee606a64e60098c7d4">lon</a>);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#a9a3fd8900988c019d0e2da0491f5600f">RotEcef2ned</a>(0, 1) = -sinf(<a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#a76e12d3fb168dc1ce3f163c985382129">lat</a>) * sinf(<a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#ac118821d55d84bee606a64e60098c7d4">lon</a>);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#a9a3fd8900988c019d0e2da0491f5600f">RotEcef2ned</a>(1, 1) = cosf(<a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#ac118821d55d84bee606a64e60098c7d4">lon</a>);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#a9a3fd8900988c019d0e2da0491f5600f">RotEcef2ned</a>(2, 1) = -cosf(<a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#a76e12d3fb168dc1ce3f163c985382129">lat</a>) * sinf(<a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#ac118821d55d84bee606a64e60098c7d4">lon</a>);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#a9a3fd8900988c019d0e2da0491f5600f">RotEcef2ned</a>(0, 2) = cosf(<a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#a76e12d3fb168dc1ce3f163c985382129">lat</a>);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#a9a3fd8900988c019d0e2da0491f5600f">RotEcef2ned</a>(1, 2) = 0.0f;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#a9a3fd8900988c019d0e2da0491f5600f">RotEcef2ned</a>(2, 2) = -sinf(<a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#a76e12d3fb168dc1ce3f163c985382129">lat</a>);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="GPS_8h.html#ad604e63cc857e5663dfba96c37c66bc7">processGPS</a>() != <a class="code" href="GPS_8h.html#a9730e8d0bbbe3f1515ed1d0b2acda1e1ae2379a504fb11d8e00e11bd567a3b819">MT_NAV_POSECEF</a>) {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    vTaskDelay(1000);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  }</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  updateNedPos();</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="preprocessor">#ifdef DEBUG_EKF</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  printf(<span class="stringliteral">&quot;lon: %f\tlat: %f\thMSL: %f\t\n&quot;</span>, <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#ac118821d55d84bee606a64e60098c7d4">lon</a>, <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#a76e12d3fb168dc1ce3f163c985382129">lat</a>, <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#a24573bad2d025ea1b7023eb23b59a46e">hMSL</a>);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  printf(<span class="stringliteral">&quot;%s\n&quot;</span>, <span class="stringliteral">&quot;Matrix de transformacao ECEF to NED&quot;</span>);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <a class="code" href="namespaceekf.html#ae9e1aaaa7793db099f4ef88b44aab8d5">printEigen</a>(<a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#a9a3fd8900988c019d0e2da0491f5600f">RotEcef2ned</a>);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  printf(<span class="stringliteral">&quot;%s\n&quot;</span>, <span class="stringliteral">&quot;Coordenadas ECEF&quot;</span>);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  printf(<span class="stringliteral">&quot;%ld\t,%ld\t,%ld\t\n&quot;</span>, <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#ae9e7517ae5f24d671f404d18c1d0b90b">rECEF</a>[0] / 100, <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#ae9e7517ae5f24d671f404d18c1d0b90b">rECEF</a>[1] / 100,</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;         <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#ae9e7517ae5f24d671f404d18c1d0b90b">rECEF</a>[2] / 100);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  printf(<span class="stringliteral">&quot;%s\n&quot;</span>, <span class="stringliteral">&quot;Coordenadas NED em m&quot;</span>);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <a class="code" href="namespaceekf.html#ae9e1aaaa7793db099f4ef88b44aab8d5">printEigen</a>(<a class="code" href="classekf_1_1EKF.html#a649f7d975dc55413be50d8f1e6bc2559">rNEDgps</a>);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <a class="code" href="COMMON_8h.html#a6c89b6571752f2a19aff170b1d3d6e58">blindLED</a>(5);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <a class="code" href="COMMON_8h.html#a8eabef94a982b1407d1ae4731b7e07ca">turnOnLed</a>();</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;}</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="keywordtype">void</span> EKF::updateNedPos() {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="comment">// NOTE: a mensagem ubxMessage.navPosecef fornece as medidas em cm.</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <a class="code" href="classekf_1_1EKF.html#a649f7d975dc55413be50d8f1e6bc2559">rNEDgps</a> = <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#a9a3fd8900988c019d0e2da0491f5600f">RotEcef2ned</a>.col(0) *</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                (0.01 * (float)(<a class="code" href="GPS_8h.html#a4ff3f4ce55f117a43c4e117d850ca5a8">ubxMessage</a>.<a class="code" href="unionUBXMessage.html#aa57d81c1fb373e82012ca3ddadefd79f">navPosecef</a>.<a class="code" href="structNAV__POSECEF__STRUCT.html#ad1b8e404ffdeeb1954292e43fe3507b2">ecefX</a> - <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#ae9e7517ae5f24d671f404d18c1d0b90b">rECEF</a>[0])) +</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#a9a3fd8900988c019d0e2da0491f5600f">RotEcef2ned</a>.col(1) *</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                (0.01 * (float)(<a class="code" href="GPS_8h.html#a4ff3f4ce55f117a43c4e117d850ca5a8">ubxMessage</a>.<a class="code" href="unionUBXMessage.html#aa57d81c1fb373e82012ca3ddadefd79f">navPosecef</a>.<a class="code" href="structNAV__POSECEF__STRUCT.html#a9e56104db13a84e53c2dec44e5ff63b2">ecefY</a> - <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#ae9e7517ae5f24d671f404d18c1d0b90b">rECEF</a>[1])) +</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#a9a3fd8900988c019d0e2da0491f5600f">RotEcef2ned</a>.col(2) *</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                (0.01 * (float)(<a class="code" href="GPS_8h.html#a4ff3f4ce55f117a43c4e117d850ca5a8">ubxMessage</a>.<a class="code" href="unionUBXMessage.html#aa57d81c1fb373e82012ca3ddadefd79f">navPosecef</a>.<a class="code" href="structNAV__POSECEF__STRUCT.html#acff937b434d1a245763b778f1f15ba66">ecefZ</a> - <a class="code" href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">base</a>.<a class="code" href="structBASE.html#ae9e7517ae5f24d671f404d18c1d0b90b">rECEF</a>[2]));</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="comment">// atualiza a matriz H correspondente á posição.</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  updateHp();</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="keywordtype">void</span> EKF::updateNedVel() {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="comment">// NOTE: (float)ubxMessage.navPvt.velX está em mm/s.</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <a class="code" href="classekf_1_1EKF.html#ad27f8aac391293234c9e21c02b944cc4">drNEDgps</a>(0) = 0.001f * (float)<a class="code" href="GPS_8h.html#a4ff3f4ce55f117a43c4e117d850ca5a8">ubxMessage</a>.<a class="code" href="unionUBXMessage.html#ae5d0a8c24ea04c5b48614e3af5dadea4">navPvt</a>.<a class="code" href="structNAV__PVT__STRUCT.html#a9f0c42e0df789f5ed086349ad79d1f9c">velN</a>;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <a class="code" href="classekf_1_1EKF.html#ad27f8aac391293234c9e21c02b944cc4">drNEDgps</a>(1) = 0.001f * (float)<a class="code" href="GPS_8h.html#a4ff3f4ce55f117a43c4e117d850ca5a8">ubxMessage</a>.<a class="code" href="unionUBXMessage.html#ae5d0a8c24ea04c5b48614e3af5dadea4">navPvt</a>.<a class="code" href="structNAV__PVT__STRUCT.html#a1abd8ac18139ec0e1148cbea6cd36b18">velE</a>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <a class="code" href="classekf_1_1EKF.html#ad27f8aac391293234c9e21c02b944cc4">drNEDgps</a>(2) = 0.001f * (float)<a class="code" href="GPS_8h.html#a4ff3f4ce55f117a43c4e117d850ca5a8">ubxMessage</a>.<a class="code" href="unionUBXMessage.html#ae5d0a8c24ea04c5b48614e3af5dadea4">navPvt</a>.<a class="code" href="structNAV__PVT__STRUCT.html#ae5860d883e58fa8d23dba2c4aa1c3e45">velD</a>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="comment">// atualiza a matriz H correspondente á velocidade</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  updateHv();</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;}</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="keywordtype">void</span> EKF::calibrationMethods() {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <a class="code" href="COMMON_8h.html#a6c89b6571752f2a19aff170b1d3d6e58">blindLED</a>(3);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  imu.<a class="code" href="classIMU.html#a5f096cb37d4b16851381bf09d6809403">calibraGyro</a>(200);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <a class="code" href="COMMON_8h.html#a6c89b6571752f2a19aff170b1d3d6e58">blindLED</a>(5);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="keywordflow">while</span> (imu.<a class="code" href="classIMU.html#a3546779010d9128859f465195eff77f5">calibracaoMagnetometro</a>(22.8908f) &lt; 0) {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <a class="code" href="COMMON_8h.html#a6c89b6571752f2a19aff170b1d3d6e58">blindLED</a>(2);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  timeClass.<a class="code" href="classTIME.html#a51b6020daf09773ef3948cf6b9ccd736">computeElapsedTime</a>();</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  timeClass.<a class="code" href="classTIME.html#a51b6020daf09773ef3948cf6b9ccd736">computeElapsedTime</a>();</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <a class="code" href="COMMON_8h.html#a6c89b6571752f2a19aff170b1d3d6e58">blindLED</a>(3);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;}</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;} <span class="comment">// namespace ekf</span></div>
<div class="ttc" id="aCOMMON_8h_html_a6c89b6571752f2a19aff170b1d3d6e58"><div class="ttname"><a href="COMMON_8h.html#a6c89b6571752f2a19aff170b1d3d6e58">blindLED</a></div><div class="ttdeci">void blindLED(size_t times)</div><div class="ttdoc">Pisca o led #times vezes.</div><div class="ttdef"><b>Definition:</b> <a href="COMMON_8h_source.html#l00019">COMMON.h:19</a></div></div>
<div class="ttc" id="aCOMMON_8h_html_a8eabef94a982b1407d1ae4731b7e07ca"><div class="ttname"><a href="COMMON_8h.html#a8eabef94a982b1407d1ae4731b7e07ca">turnOnLed</a></div><div class="ttdeci">void turnOnLed(void)</div><div class="ttdoc">Liga o led de comunicação.</div><div class="ttdef"><b>Definition:</b> <a href="COMMON_8h_source.html#l00033">COMMON.h:33</a></div></div>
<div class="ttc" id="aEKF_8h_html"><div class="ttname"><a href="EKF_8h.html">EKF.h</a></div><div class="ttdoc">Classe que implementa o filtro de Kalman estendido.</div></div>
<div class="ttc" id="aGPS_8h_html"><div class="ttname"><a href="GPS_8h.html">GPS.h</a></div><div class="ttdoc">Simples Cabecalho de funcoes para leituras do GPS Last modified by: roney Last modified time: 31-Aug-...</div></div>
<div class="ttc" id="aGPS_8h_html_a35c55bcf9a6f5a52f34cb1ab02c91479"><div class="ttname"><a href="GPS_8h.html#a35c55bcf9a6f5a52f34cb1ab02c91479">gpsSetup</a></div><div class="ttdeci">void gpsSetup()</div><div class="ttdef"><b>Definition:</b> <a href="GPS_8h_source.html#l00181">GPS.h:181</a></div></div>
<div class="ttc" id="aGPS_8h_html_a4ff3f4ce55f117a43c4e117d850ca5a8"><div class="ttname"><a href="GPS_8h.html#a4ff3f4ce55f117a43c4e117d850ca5a8">ubxMessage</a></div><div class="ttdeci">UBXMessage ubxMessage</div><div class="ttdef"><b>Definition:</b> <a href="GPS_8h_source.html#l00179">GPS.h:179</a></div></div>
<div class="ttc" id="aGPS_8h_html_a9730e8d0bbbe3f1515ed1d0b2acda1e1a87ee2b7c21367a2caa62b0a01491ea23"><div class="ttname"><a href="GPS_8h.html#a9730e8d0bbbe3f1515ed1d0b2acda1e1a87ee2b7c21367a2caa62b0a01491ea23">MT_NAV_PVT</a></div><div class="ttdeci">@ MT_NAV_PVT</div><div class="ttdef"><b>Definition:</b> <a href="GPS_8h_source.html#l00175">GPS.h:175</a></div></div>
<div class="ttc" id="aGPS_8h_html_a9730e8d0bbbe3f1515ed1d0b2acda1e1ad2e3f1bdeae0fa235b7dfe6656c46f14"><div class="ttname"><a href="GPS_8h.html#a9730e8d0bbbe3f1515ed1d0b2acda1e1ad2e3f1bdeae0fa235b7dfe6656c46f14">MT_NONE</a></div><div class="ttdeci">@ MT_NONE</div><div class="ttdef"><b>Definition:</b> <a href="GPS_8h_source.html#l00164">GPS.h:164</a></div></div>
<div class="ttc" id="aGPS_8h_html_a9730e8d0bbbe3f1515ed1d0b2acda1e1ae2379a504fb11d8e00e11bd567a3b819"><div class="ttname"><a href="GPS_8h.html#a9730e8d0bbbe3f1515ed1d0b2acda1e1ae2379a504fb11d8e00e11bd567a3b819">MT_NAV_POSECEF</a></div><div class="ttdeci">@ MT_NAV_POSECEF</div><div class="ttdef"><b>Definition:</b> <a href="GPS_8h_source.html#l00172">GPS.h:172</a></div></div>
<div class="ttc" id="aGPS_8h_html_ad604e63cc857e5663dfba96c37c66bc7"><div class="ttname"><a href="GPS_8h.html#ad604e63cc857e5663dfba96c37c66bc7">processGPS</a></div><div class="ttdeci">int processGPS()</div><div class="ttdef"><b>Definition:</b> <a href="GPS_8h_source.html#l00301">GPS.h:301</a></div></div>
<div class="ttc" id="aIMU_8h_html"><div class="ttname"><a href="IMU_8h.html">IMU.h</a></div></div>
<div class="ttc" id="aTIME_8h_html"><div class="ttname"><a href="TIME_8h.html">TIME.h</a></div><div class="ttdoc">Classe para medir Intervalo de tempo entre duas chamadas.</div></div>
<div class="ttc" id="aclassAQUA_html"><div class="ttname"><a href="classAQUA.html">AQUA</a></div><div class="ttdef"><b>Definition:</b> <a href="AQUA_8h_source.html#l00021">AQUA.h:21</a></div></div>
<div class="ttc" id="aclassAQUA_html_a8809dddd7e4f74f3eb7bd1fc4a604ae4"><div class="ttname"><a href="classAQUA.html#a8809dddd7e4f74f3eb7bd1fc4a604ae4">AQUA::begin</a></div><div class="ttdeci">void begin(Eigen::Vector4f &amp;_qObs, Eigen::Vector3f &amp;accel, Eigen::Vector3f &amp;mag)</div><div class="ttdef"><b>Definition:</b> <a href="AQUA_8cpp_source.html#l00018">AQUA.cpp:18</a></div></div>
<div class="ttc" id="aclassAQUA_html_ae3ddff89a969a0d2a3d3c675ed5b8065"><div class="ttname"><a href="classAQUA.html#ae3ddff89a969a0d2a3d3c675ed5b8065">AQUA::computeAQUAQuaternion</a></div><div class="ttdeci">int computeAQUAQuaternion()</div><div class="ttdef"><b>Definition:</b> <a href="AQUA_8cpp_source.html#l00073">AQUA.cpp:73</a></div></div>
<div class="ttc" id="aclassIMU_html"><div class="ttname"><a href="classIMU.html">IMU</a></div><div class="ttdef"><b>Definition:</b> <a href="IMU_8h_source.html#l00019">IMU.h:19</a></div></div>
<div class="ttc" id="aclassIMU_html_a3546779010d9128859f465195eff77f5"><div class="ttname"><a href="classIMU.html#a3546779010d9128859f465195eff77f5">IMU::calibracaoMagnetometro</a></div><div class="ttdeci">int calibracaoMagnetometro(float moduloCampo)</div><div class="ttdef"><b>Definition:</b> <a href="IMU_8cpp_source.html#l00458">IMU.cpp:458</a></div></div>
<div class="ttc" id="aclassIMU_html_a5f096cb37d4b16851381bf09d6809403"><div class="ttname"><a href="classIMU.html#a5f096cb37d4b16851381bf09d6809403">IMU::calibraGyro</a></div><div class="ttdeci">void calibraGyro(int N=100)</div><div class="ttdef"><b>Definition:</b> <a href="IMU_8cpp_source.html#l00343">IMU.cpp:343</a></div></div>
<div class="ttc" id="aclassIMU_html_a9a145f45e2e08cae0f363747c5603bd1"><div class="ttname"><a href="classIMU.html#a9a145f45e2e08cae0f363747c5603bd1">IMU::_biasAccel</a></div><div class="ttdeci">Vector3f _biasAccel</div><div class="ttdef"><b>Definition:</b> <a href="IMU_8h_source.html#l00073">IMU.h:73</a></div></div>
<div class="ttc" id="aclassIMU_html_a9d22cd7cb7bb93f2e04aa713aed73532"><div class="ttname"><a href="classIMU.html#a9d22cd7cb7bb93f2e04aa713aed73532">IMU::_biasGyro</a></div><div class="ttdeci">Vector3f _biasGyro</div><div class="ttdef"><b>Definition:</b> <a href="IMU_8h_source.html#l00076">IMU.h:76</a></div></div>
<div class="ttc" id="aclassIMU_html_ac574728dbbc752155239a35c8bbd6e79"><div class="ttname"><a href="classIMU.html#ac574728dbbc752155239a35c8bbd6e79">IMU::readSensor</a></div><div class="ttdeci">int readSensor()</div><div class="ttdef"><b>Definition:</b> <a href="IMU_8cpp_source.html#l00290">IMU.cpp:290</a></div></div>
<div class="ttc" id="aclassIMU_html_ae0d964d2f8ec122be068c41b84bc18a8"><div class="ttname"><a href="classIMU.html#ae0d964d2f8ec122be068c41b84bc18a8">IMU::begin</a></div><div class="ttdeci">int begin(Vector3f &amp;acel, Vector3f &amp;gyro, Vector3f &amp;mag)</div><div class="ttdef"><b>Definition:</b> <a href="IMU_8cpp_source.html#l00029">IMU.cpp:29</a></div></div>
<div class="ttc" id="aclassTIME_html"><div class="ttname"><a href="classTIME.html">TIME</a></div><div class="ttdef"><b>Definition:</b> <a href="TIME_8h_source.html#l00014">TIME.h:14</a></div></div>
<div class="ttc" id="aclassTIME_html_a51b6020daf09773ef3948cf6b9ccd736"><div class="ttname"><a href="classTIME.html#a51b6020daf09773ef3948cf6b9ccd736">TIME::computeElapsedTime</a></div><div class="ttdeci">float computeElapsedTime()</div><div class="ttdoc">Retorna o valor do tempo decorrido desde a última requisição.</div><div class="ttdef"><b>Definition:</b> <a href="TIME_8cpp_source.html#l00032">TIME.cpp:32</a></div></div>
<div class="ttc" id="aclassTIME_html_a8cd98765b05a23aa7afe8fa5234b9695"><div class="ttname"><a href="classTIME.html#a8cd98765b05a23aa7afe8fa5234b9695">TIME::begin</a></div><div class="ttdeci">void begin()</div><div class="ttdef"><b>Definition:</b> <a href="TIME_8cpp_source.html#l00021">TIME.cpp:21</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_a02c9e5ede2b47a773c2f59fb9cf9169c"><div class="ttname"><a href="classekf_1_1EKF.html#a02c9e5ede2b47a773c2f59fb9cf9169c">ekf::EKF::sigma_pos_squared</a></div><div class="ttdeci">const float sigma_pos_squared</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00120">EKF.h:120</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_a0e5efc2e95419aaea976414f246a378a"><div class="ttname"><a href="classekf_1_1EKF.html#a0e5efc2e95419aaea976414f246a378a">ekf::EKF::Q_k</a></div><div class="ttdeci">Eigen::Matrix&lt; float, nFull, nFull &gt; Q_k</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00122">EKF.h:122</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_a110201c01d9ce3c63a1de068e87be75d"><div class="ttname"><a href="classekf_1_1EKF.html#a110201c01d9ce3c63a1de068e87be75d">ekf::EKF::G</a></div><div class="ttdeci">Eigen::Matrix&lt; float, nFull, 12 &gt; G</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00133">EKF.h:133</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_a1ac62c76df373623c4cfa0b2b37564db"><div class="ttname"><a href="classekf_1_1EKF.html#a1ac62c76df373623c4cfa0b2b37564db">ekf::EKF::biasAccel</a></div><div class="ttdeci">Eigen::Vector3f * biasAccel</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00177">EKF.h:177</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_a1aecb83d5af684f4f8637981089002b9"><div class="ttname"><a href="classekf_1_1EKF.html#a1aecb83d5af684f4f8637981089002b9">ekf::EKF::DEG_TO_RAD_BY_10000000</a></div><div class="ttdeci">const float DEG_TO_RAD_BY_10000000</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00047">EKF.h:47</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_a2ea4005a93d82e6b448fdb4fd4e36dd1"><div class="ttname"><a href="classekf_1_1EKF.html#a2ea4005a93d82e6b448fdb4fd4e36dd1">ekf::EKF::sigma_aqua_squared</a></div><div class="ttdeci">const float sigma_aqua_squared</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00116">EKF.h:116</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_a2f7f579eb38461f7396cca2a9a846bbb"><div class="ttname"><a href="classekf_1_1EKF.html#a2f7f579eb38461f7396cca2a9a846bbb">ekf::EKF::mcd</a></div><div class="ttdeci">Eigen::Matrix3f mcd</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00100">EKF.h:100</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_a30d3adf68cc6ee599fec8fa45a697bbb"><div class="ttname"><a href="classekf_1_1EKF.html#a30d3adf68cc6ee599fec8fa45a697bbb">ekf::EKF::accel</a></div><div class="ttdeci">Eigen::Vector3f accel</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00070">EKF.h:70</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_a39f7ad374d1ef4a03fdb8cd8bba59846"><div class="ttname"><a href="classekf_1_1EKF.html#a39f7ad374d1ef4a03fdb8cd8bba59846">ekf::EKF::sigma_accel_squared</a></div><div class="ttdeci">const float sigma_accel_squared</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00112">EKF.h:112</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_a3f84435c646a27ad0f922e5205c13eb3"><div class="ttname"><a href="classekf_1_1EKF.html#a3f84435c646a27ad0f922e5205c13eb3">ekf::EKF::mag</a></div><div class="ttdeci">Eigen::Vector3f mag</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00076">EKF.h:76</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_a440b83cfd38de4133d8071a158028c86"><div class="ttname"><a href="classekf_1_1EKF.html#a440b83cfd38de4133d8071a158028c86">ekf::EKF::navegationGravity</a></div><div class="ttdeci">const Eigen::Vector3f navegationGravity</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00072">EKF.h:72</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_a4a3b3eb81885f23ec476cfbdeae7666f"><div class="ttname"><a href="classekf_1_1EKF.html#a4a3b3eb81885f23ec476cfbdeae7666f">ekf::EKF::sigma_bias_accel_squared</a></div><div class="ttdeci">const float sigma_bias_accel_squared</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00114">EKF.h:114</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_a4a6998123529ab0d0844ad21419fc895"><div class="ttname"><a href="classekf_1_1EKF.html#a4a6998123529ab0d0844ad21419fc895">ekf::EKF::begin</a></div><div class="ttdeci">void begin(float dt)</div><div class="ttdoc">Inicializacao do filtro de Kalman.</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8cpp_source.html#l00040">EKF.cpp:40</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_a50b05a6fb2c055d9c37e44138a05b08e"><div class="ttname"><a href="classekf_1_1EKF.html#a50b05a6fb2c055d9c37e44138a05b08e">ekf::EKF::biasGyro</a></div><div class="ttdeci">Eigen::Vector3f * biasGyro</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00175">EKF.h:175</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_a5d610d6e3174f24f9be38e7da3d44bc0"><div class="ttname"><a href="classekf_1_1EKF.html#a5d610d6e3174f24f9be38e7da3d44bc0">ekf::EKF::sigma_giro_squared</a></div><div class="ttdeci">const float sigma_giro_squared</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00108">EKF.h:108</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_a649f7d975dc55413be50d8f1e6bc2559"><div class="ttname"><a href="classekf_1_1EKF.html#a649f7d975dc55413be50d8f1e6bc2559">ekf::EKF::rNEDgps</a></div><div class="ttdeci">Eigen::Vector3f rNEDgps</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00092">EKF.h:92</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_a651814ff64d234394572e2e7c5703a43"><div class="ttname"><a href="classekf_1_1EKF.html#a651814ff64d234394572e2e7c5703a43">ekf::EKF::loopEKF</a></div><div class="ttdeci">void loopEKF()</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8cpp_source.html#l00101">EKF.cpp:101</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_a7638c17e8939f2c45f1bbda2260621cc"><div class="ttname"><a href="classekf_1_1EKF.html#a7638c17e8939f2c45f1bbda2260621cc">ekf::EKF::status</a></div><div class="ttdeci">int status</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00052">EKF.h:52</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_a78dd6de9d37bc221394db5e9cca2086f"><div class="ttname"><a href="classekf_1_1EKF.html#a78dd6de9d37bc221394db5e9cca2086f">ekf::EKF::fi</a></div><div class="ttdeci">Eigen::Matrix&lt; float, nFull, nFull &gt; fi</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00131">EKF.h:131</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_a803ccbdd54bfbd96cccf57afa60578a9"><div class="ttname"><a href="classekf_1_1EKF.html#a803ccbdd54bfbd96cccf57afa60578a9">ekf::EKF::qObs</a></div><div class="ttdeci">Eigen::Vector4f qObs</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00080">EKF.h:80</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_a833f15f8790f86633d8b02eb2fe3616e"><div class="ttname"><a href="classekf_1_1EKF.html#a833f15f8790f86633d8b02eb2fe3616e">ekf::EKF::rNED</a></div><div class="ttdeci">Eigen::Vector3f rNED</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00090">EKF.h:90</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_a87a29899f611c68db72263cc0be496c7"><div class="ttname"><a href="classekf_1_1EKF.html#a87a29899f611c68db72263cc0be496c7">ekf::EKF::K</a></div><div class="ttdeci">Eigen::Matrix&lt; float, nFull, pFull &gt; K</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00143">EKF.h:143</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_a883bdaa556cb199f75216286386523c1"><div class="ttname"><a href="classekf_1_1EKF.html#a883bdaa556cb199f75216286386523c1">ekf::EKF::sigma_bias_giro_squared</a></div><div class="ttdeci">const float sigma_bias_giro_squared</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00110">EKF.h:110</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_a8d016a5adf9aa5f33a8c9e1f7dd73592"><div class="ttname"><a href="classekf_1_1EKF.html#a8d016a5adf9aa5f33a8c9e1f7dd73592">ekf::EKF::messageGPS</a></div><div class="ttdeci">uint8_t messageGPS</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00101">EKF.h:101</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_a93f50b0576c3243487442a9f0934e038"><div class="ttname"><a href="classekf_1_1EKF.html#a93f50b0576c3243487442a9f0934e038">ekf::EKF::drNED</a></div><div class="ttdeci">Eigen::Vector3f drNED</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00094">EKF.h:94</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_aa38bc83dfb656519cfcda0c0a589ef16"><div class="ttname"><a href="classekf_1_1EKF.html#aa38bc83dfb656519cfcda0c0a589ef16">ekf::EKF::q</a></div><div class="ttdeci">Eigen::Vector4f q</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00082">EKF.h:82</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_aae2ea65c4362a5f798db195112fb094a"><div class="ttname"><a href="classekf_1_1EKF.html#aae2ea65c4362a5f798db195112fb094a">ekf::EKF::mF</a></div><div class="ttdeci">Eigen::Matrix&lt; float, nFull, nFull &gt; mF</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00129">EKF.h:129</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_abd11bc2722fab1c582cc91a39372f2ac"><div class="ttname"><a href="classekf_1_1EKF.html#abd11bc2722fab1c582cc91a39372f2ac">ekf::EKF::H</a></div><div class="ttdeci">Eigen::Matrix&lt; float, pFull, nFull &gt; H</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00141">EKF.h:141</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_abd8ccdb99191c1f3a7a5c03421f93d87"><div class="ttname"><a href="classekf_1_1EKF.html#abd8ccdb99191c1f3a7a5c03421f93d87">ekf::EKF::nFull</a></div><div class="ttdeci">static const int nFull</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00054">EKF.h:54</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_ac02e28e5bd4b3e90d3ccb3dd1127e7b2"><div class="ttname"><a href="classekf_1_1EKF.html#ac02e28e5bd4b3e90d3ccb3dd1127e7b2">ekf::EKF::pFull</a></div><div class="ttdeci">static const int pFull</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00056">EKF.h:56</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_acd0f4714eb8ba12355d529580e928439"><div class="ttname"><a href="classekf_1_1EKF.html#acd0f4714eb8ba12355d529580e928439">ekf::EKF::base</a></div><div class="ttdeci">BASE base</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00062">EKF.h:62</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_ad1c353f958f3c41141c88339793745aa"><div class="ttname"><a href="classekf_1_1EKF.html#ad1c353f958f3c41141c88339793745aa">ekf::EKF::deltaChi</a></div><div class="ttdeci">Eigen::Vector&lt; float, nFull+1 &gt; deltaChi</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00150">EKF.h:150</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_ad27f8aac391293234c9e21c02b944cc4"><div class="ttname"><a href="classekf_1_1EKF.html#ad27f8aac391293234c9e21c02b944cc4">ekf::EKF::drNEDgps</a></div><div class="ttdeci">Eigen::Vector3f drNEDgps</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00096">EKF.h:96</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_ad3a628fffe1f640b4968b8f6f8ef3b14"><div class="ttname"><a href="classekf_1_1EKF.html#ad3a628fffe1f640b4968b8f6f8ef3b14">ekf::EKF::pAtitude</a></div><div class="ttdeci">const int pAtitude</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00060">EKF.h:60</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_ad55e1ba3736ea08721dec76f03dd9715"><div class="ttname"><a href="classekf_1_1EKF.html#ad55e1ba3736ea08721dec76f03dd9715">ekf::EKF::R</a></div><div class="ttdeci">Eigen::Matrix&lt; float, pFull, pFull &gt; R</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00125">EKF.h:125</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_ae4417522e93314005316a236b324f2a5"><div class="ttname"><a href="classekf_1_1EKF.html#ae4417522e93314005316a236b324f2a5">ekf::EKF::n</a></div><div class="ttdeci">int n</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00106">EKF.h:106</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_ae4be03b8440c0f1185141ecc359534df"><div class="ttname"><a href="classekf_1_1EKF.html#ae4be03b8440c0f1185141ecc359534df">ekf::EKF::deltaYObs</a></div><div class="ttdeci">Eigen::Vector&lt; float, pFull &gt; deltaYObs</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00152">EKF.h:152</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_aea7bda69ce19f724930eb8c691272508"><div class="ttname"><a href="classekf_1_1EKF.html#aea7bda69ce19f724930eb8c691272508">ekf::EKF::EKF</a></div><div class="ttdeci">EKF()</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8cpp_source.html#l00033">EKF.cpp:33</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_aec9a3a7de4a079cd1dd1baae26a7a6fc"><div class="ttname"><a href="classekf_1_1EKF.html#aec9a3a7de4a079cd1dd1baae26a7a6fc">ekf::EKF::P</a></div><div class="ttdeci">Eigen::Matrix&lt; float, nFull, nFull &gt; P</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00135">EKF.h:135</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_aee84ca91742c11dd89683930a58d59e3"><div class="ttname"><a href="classekf_1_1EKF.html#aee84ca91742c11dd89683930a58d59e3">ekf::EKF::dt</a></div><div class="ttdeci">float dt</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00068">EKF.h:68</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_af019016496e0328e5d9ea3cb6462e52c"><div class="ttname"><a href="classekf_1_1EKF.html#af019016496e0328e5d9ea3cb6462e52c">ekf::EKF::p</a></div><div class="ttdeci">int p</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00104">EKF.h:104</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_af1d82a9698078624dd2e65c808126510"><div class="ttname"><a href="classekf_1_1EKF.html#af1d82a9698078624dd2e65c808126510">ekf::EKF::sigma_vel_squared</a></div><div class="ttdeci">const float sigma_vel_squared</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00118">EKF.h:118</a></div></div>
<div class="ttc" id="aclassekf_1_1EKF_html_af990ea0dbcd3f286f04584ab663d08e6"><div class="ttname"><a href="classekf_1_1EKF.html#af990ea0dbcd3f286f04584ab663d08e6">ekf::EKF::gyro</a></div><div class="ttdeci">Eigen::Vector3f gyro</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00074">EKF.h:74</a></div></div>
<div class="ttc" id="anamespaceekf_html"><div class="ttname"><a href="namespaceekf.html">ekf</a></div><div class="ttdoc">Funções genéricas com álgebra de quatérnions e demais.</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8cpp_source.html#l00023">EKF.cpp:23</a></div></div>
<div class="ttc" id="anamespaceekf_html_a0ae7d9ae45fba00d81bfe71ad73d7fee"><div class="ttname"><a href="namespaceekf.html#a0ae7d9ae45fba00d81bfe71ad73d7fee">ekf::multiplyQuaternions</a></div><div class="ttdeci">Eigen::Vector4f multiplyQuaternions(const Eigen::Ref&lt; Eigen::VectorXf &gt; &amp;p, const Eigen::Ref&lt; Eigen::VectorXf &gt; &amp;q)</div><div class="ttdoc">Produto de quaternions aplicado.</div><div class="ttdef"><b>Definition:</b> <a href="GRUPO__QUAT_8cpp_source.html#l00142">GRUPO_QUAT.cpp:142</a></div></div>
<div class="ttc" id="anamespaceekf_html_a224c884f9fa345bfef8f140150919b3e"><div class="ttname"><a href="namespaceekf.html#a224c884f9fa345bfef8f140150919b3e">ekf::aqua</a></div><div class="ttdeci">AQUA aqua</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8cpp_source.html#l00032">EKF.cpp:32</a></div></div>
<div class="ttc" id="anamespaceekf_html_a2c0b3448d5cac6f50ad025310b2a9c82"><div class="ttname"><a href="namespaceekf.html#a2c0b3448d5cac6f50ad025310b2a9c82">ekf::integrationQuaternion</a></div><div class="ttdeci">void integrationQuaternion(Eigen::Vector4f &amp;_quat, const Eigen::Ref&lt; const Eigen::VectorXf &gt; &amp;_gyroscope, float &amp;_dt)</div><div class="ttdef"><b>Definition:</b> <a href="GRUPO__QUAT_8cpp_source.html#l00198">GRUPO_QUAT.cpp:198</a></div></div>
<div class="ttc" id="anamespaceekf_html_a34993a331b6837e5274d556e4f0a1bea"><div class="ttname"><a href="namespaceekf.html#a34993a331b6837e5274d556e4f0a1bea">ekf::Q_l</a></div><div class="ttdeci">Eigen::MatrixXf Q_l(const Eigen::Ref&lt; Eigen::Vector4f &gt; &amp;q)</div><div class="ttdef"><b>Definition:</b> <a href="GRUPO__QUAT_8cpp_source.html#l00045">GRUPO_QUAT.cpp:45</a></div></div>
<div class="ttc" id="anamespaceekf_html_a3d0224f90468a854a2440df8b4f78869a0c401f1c67fce956b571e01d0f1a67d8"><div class="ttname"><a href="namespaceekf.html#a3d0224f90468a854a2440df8b4f78869a0c401f1c67fce956b571e01d0f1a67d8">ekf::BEGIN</a></div><div class="ttdeci">@ BEGIN</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00044">EKF.h:44</a></div></div>
<div class="ttc" id="anamespaceekf_html_a3d0224f90468a854a2440df8b4f78869a638dfa2cadaad15202600951a2e30d4f"><div class="ttname"><a href="namespaceekf.html#a3d0224f90468a854a2440df8b4f78869a638dfa2cadaad15202600951a2e30d4f">ekf::READY</a></div><div class="ttdeci">@ READY</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00044">EKF.h:44</a></div></div>
<div class="ttc" id="anamespaceekf_html_ac031eda654b199bd45807eed2acdb3ec"><div class="ttname"><a href="namespaceekf.html#ac031eda654b199bd45807eed2acdb3ec">ekf::computeMcdFromQuaternion</a></div><div class="ttdeci">void computeMcdFromQuaternion(const Eigen::Vector4f &amp;q, Eigen::Matrix3f &amp;mcd)</div><div class="ttdef"><b>Definition:</b> <a href="GRUPO__QUAT_8cpp_source.html#l00102">GRUPO_QUAT.cpp:102</a></div></div>
<div class="ttc" id="anamespaceekf_html_ae9e1aaaa7793db099f4ef88b44aab8d5"><div class="ttname"><a href="namespaceekf.html#ae9e1aaaa7793db099f4ef88b44aab8d5">ekf::printEigen</a></div><div class="ttdeci">void printEigen(const Eigen::MatrixXf &amp;m)</div><div class="ttdef"><b>Definition:</b> <a href="GRUPO__QUAT_8cpp_source.html#l00111">GRUPO_QUAT.cpp:111</a></div></div>
<div class="ttc" id="anamespaceekf_html_af3f0a631343e55ec8b42f3fbea182461"><div class="ttname"><a href="namespaceekf.html#af3f0a631343e55ec8b42f3fbea182461">ekf::skew</a></div><div class="ttdeci">Eigen::Matrix3f skew(const Eigen::Vector3f &amp;v)</div><div class="ttdoc">Matrix antissimetrica.</div><div class="ttdef"><b>Definition:</b> <a href="GRUPO__QUAT_8cpp_source.html#l00062">GRUPO_QUAT.cpp:62</a></div></div>
<div class="ttc" id="astructBASE_html_a24573bad2d025ea1b7023eb23b59a46e"><div class="ttname"><a href="structBASE.html#a24573bad2d025ea1b7023eb23b59a46e">BASE::hMSL</a></div><div class="ttdeci">float hMSL</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00035">EKF.h:35</a></div></div>
<div class="ttc" id="astructBASE_html_a76e12d3fb168dc1ce3f163c985382129"><div class="ttname"><a href="structBASE.html#a76e12d3fb168dc1ce3f163c985382129">BASE::lat</a></div><div class="ttdeci">float lat</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00031">EKF.h:31</a></div></div>
<div class="ttc" id="astructBASE_html_a9a3fd8900988c019d0e2da0491f5600f"><div class="ttname"><a href="structBASE.html#a9a3fd8900988c019d0e2da0491f5600f">BASE::RotEcef2ned</a></div><div class="ttdeci">Eigen::Matrix3f RotEcef2ned</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00037">EKF.h:37</a></div></div>
<div class="ttc" id="astructBASE_html_ac118821d55d84bee606a64e60098c7d4"><div class="ttname"><a href="structBASE.html#ac118821d55d84bee606a64e60098c7d4">BASE::lon</a></div><div class="ttdeci">float lon</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00033">EKF.h:33</a></div></div>
<div class="ttc" id="astructBASE_html_ae9e7517ae5f24d671f404d18c1d0b90b"><div class="ttname"><a href="structBASE.html#ae9e7517ae5f24d671f404d18c1d0b90b">BASE::rECEF</a></div><div class="ttdeci">long rECEF[3]</div><div class="ttdef"><b>Definition:</b> <a href="EKF_8h_source.html#l00039">EKF.h:39</a></div></div>
<div class="ttc" id="astructNAV__POSECEF__STRUCT_html_a9e56104db13a84e53c2dec44e5ff63b2"><div class="ttname"><a href="structNAV__POSECEF__STRUCT.html#a9e56104db13a84e53c2dec44e5ff63b2">NAV_POSECEF_STRUCT::ecefY</a></div><div class="ttdeci">long ecefY</div><div class="ttdef"><b>Definition:</b> <a href="GPS_8h_source.html#l00067">GPS.h:67</a></div></div>
<div class="ttc" id="astructNAV__POSECEF__STRUCT_html_acff937b434d1a245763b778f1f15ba66"><div class="ttname"><a href="structNAV__POSECEF__STRUCT.html#acff937b434d1a245763b778f1f15ba66">NAV_POSECEF_STRUCT::ecefZ</a></div><div class="ttdeci">long ecefZ</div><div class="ttdef"><b>Definition:</b> <a href="GPS_8h_source.html#l00069">GPS.h:69</a></div></div>
<div class="ttc" id="astructNAV__POSECEF__STRUCT_html_ad1b8e404ffdeeb1954292e43fe3507b2"><div class="ttname"><a href="structNAV__POSECEF__STRUCT.html#ad1b8e404ffdeeb1954292e43fe3507b2">NAV_POSECEF_STRUCT::ecefX</a></div><div class="ttdeci">long ecefX</div><div class="ttdef"><b>Definition:</b> <a href="GPS_8h_source.html#l00065">GPS.h:65</a></div></div>
<div class="ttc" id="astructNAV__POSECEF__STRUCT_html_af6632b8d7323f356aac7f34e1656dbba"><div class="ttname"><a href="structNAV__POSECEF__STRUCT.html#af6632b8d7323f356aac7f34e1656dbba">NAV_POSECEF_STRUCT::pAcc</a></div><div class="ttdeci">long pAcc</div><div class="ttdef"><b>Definition:</b> <a href="GPS_8h_source.html#l00070">GPS.h:70</a></div></div>
<div class="ttc" id="astructNAV__PVT__STRUCT_html_a1abd8ac18139ec0e1148cbea6cd36b18"><div class="ttname"><a href="structNAV__PVT__STRUCT.html#a1abd8ac18139ec0e1148cbea6cd36b18">NAV_PVT_STRUCT::velE</a></div><div class="ttdeci">long velE</div><div class="ttdef"><b>Definition:</b> <a href="GPS_8h_source.html#l00123">GPS.h:123</a></div></div>
<div class="ttc" id="astructNAV__PVT__STRUCT_html_a593d78a85e8db2a7511396023ac72bd6"><div class="ttname"><a href="structNAV__PVT__STRUCT.html#a593d78a85e8db2a7511396023ac72bd6">NAV_PVT_STRUCT::hMSL</a></div><div class="ttdeci">long hMSL</div><div class="ttdef"><b>Definition:</b> <a href="GPS_8h_source.html#l00117">GPS.h:117</a></div></div>
<div class="ttc" id="astructNAV__PVT__STRUCT_html_a9f0c42e0df789f5ed086349ad79d1f9c"><div class="ttname"><a href="structNAV__PVT__STRUCT.html#a9f0c42e0df789f5ed086349ad79d1f9c">NAV_PVT_STRUCT::velN</a></div><div class="ttdeci">long velN</div><div class="ttdef"><b>Definition:</b> <a href="GPS_8h_source.html#l00121">GPS.h:121</a></div></div>
<div class="ttc" id="astructNAV__PVT__STRUCT_html_ab8a62324ff89a0c707884bfc34aba85d"><div class="ttname"><a href="structNAV__PVT__STRUCT.html#ab8a62324ff89a0c707884bfc34aba85d">NAV_PVT_STRUCT::lat</a></div><div class="ttdeci">long lat</div><div class="ttdef"><b>Definition:</b> <a href="GPS_8h_source.html#l00115">GPS.h:115</a></div></div>
<div class="ttc" id="astructNAV__PVT__STRUCT_html_ac884e66d0b3ebd6530680ad23e13a81e"><div class="ttname"><a href="structNAV__PVT__STRUCT.html#ac884e66d0b3ebd6530680ad23e13a81e">NAV_PVT_STRUCT::lon</a></div><div class="ttdeci">long lon</div><div class="ttdef"><b>Definition:</b> <a href="GPS_8h_source.html#l00114">GPS.h:114</a></div></div>
<div class="ttc" id="astructNAV__PVT__STRUCT_html_ae5860d883e58fa8d23dba2c4aa1c3e45"><div class="ttname"><a href="structNAV__PVT__STRUCT.html#ae5860d883e58fa8d23dba2c4aa1c3e45">NAV_PVT_STRUCT::velD</a></div><div class="ttdeci">long velD</div><div class="ttdef"><b>Definition:</b> <a href="GPS_8h_source.html#l00125">GPS.h:125</a></div></div>
<div class="ttc" id="astructNAV__PVT__STRUCT_html_af38c07f23fd57d4cb4a88dd99492ce3b"><div class="ttname"><a href="structNAV__PVT__STRUCT.html#af38c07f23fd57d4cb4a88dd99492ce3b">NAV_PVT_STRUCT::fixType</a></div><div class="ttdeci">unsigned char fixType</div><div class="ttdef"><b>Definition:</b> <a href="GPS_8h_source.html#l00110">GPS.h:110</a></div></div>
<div class="ttc" id="aunionUBXMessage_html_aa57d81c1fb373e82012ca3ddadefd79f"><div class="ttname"><a href="unionUBXMessage.html#aa57d81c1fb373e82012ca3ddadefd79f">UBXMessage::navPosecef</a></div><div class="ttdeci">NAV_POSECEF_STRUCT navPosecef</div><div class="ttdef"><b>Definition:</b> <a href="GPS_8h_source.html#l00156">GPS.h:156</a></div></div>
<div class="ttc" id="aunionUBXMessage_html_ae5d0a8c24ea04c5b48614e3af5dadea4"><div class="ttname"><a href="unionUBXMessage.html#ae5d0a8c24ea04c5b48614e3af5dadea4">UBXMessage::navPvt</a></div><div class="ttdeci">NAV_PVT_STRUCT navPvt</div><div class="ttdef"><b>Definition:</b> <a href="GPS_8h_source.html#l00159">GPS.h:159</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Gerado por&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
